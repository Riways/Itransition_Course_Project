

@if(_reviews == null || _reviews.Count == 0)
{
    <MudText Typo="Typo.h2"> No _reviews found</MudText>
}else{
    <MudGrid >
        @foreach(var review in _reviews)
        {
            <MudItem xs="12" >
                <Review CurrentReview="review"/>
            </MudItem>
        }
    </MudGrid>
}

@code {
    [Inject]
    private IHttpClientFactory _clientFactory { get; set; }
    private List<ReviewModel>? _reviews;

    protected override async Task OnInitializedAsync()
    {
        HttpClient _anonymousHttpClient = _clientFactory.CreateClient("totten_romatoes.AnonymousAPI");
        _reviews = await _anonymousHttpClient.GetFromJsonAsync<List<ReviewModel>>("api/ReviewModels");
    }
}
